---
title: "Math 23C Term Project"
author: "Robi Rahman and Sharon Tai"
date: "24 March - 14 May 2021"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(eeptools) # to import the decomma() function
library(boot)
library(caret)
library(psych)
library(ggplot2)
```

## Question

Can the price changes in certain commodities reveal the kind of recession the U.S. is in? How do
qualitatively different recessions affect commodities’ prices? We are specifically interested in the
dotcom crash of the early 2000s, the Great Recession, and the COVID-19 pandemic. 


## Motivation

“The stock market is not the economy.” This refrain frequently sounds. We have decided to assess
whether commodity prices that could signal the health of the general public correlated with
unemployment rates across two decades. The three significant recessions in this time period affected
different populations differently. Could the differences in commodity prices signal which populations
were significantly affected, and how affected they were? Are there differences in how each type of
recession affects them?

In general, the risk-adjusted long-run expected returns to all publicly traded assets are the same
throughout the economy. If one commodity had a higher expected return than another, traders would
sell the less profitable asset and buy the more profitable one, until the costs of each are proportionate
to their future returns. The best null hypothesis for changes in asset prices is that all of them
(specifically all the ones that are equally risky) will rise or fall by the same amount, all other factors
equal.

However, different goods change in value differently in relation to different world events, and some
commodities are correlated with other ones. We have selected a list of commodities that we 
hypothesize will behave differently during qualitatively different recessions. Did some of the selected
commodities respond differently to these qualitatively different recessions?

Auxiliary questions we’ll be considering are
1. What the price signals about the good and its consumers
2. Whether there were supply and demand shocks that affected the prices


## Hypothesis

Robi:

Commodities tend to increase in price when the economy is growing. Recessions
are periods with negative GDP growth, so commodity prices will decrease, or at
least increase by a lesser amount on average than during growth periods.

Unemployment generally rises during recessions and is low when the economy is
strong. Therefore, we will find that unemployment rates are higher during recessions
than during non-recession periods.

The 2020-21 coronavirus pandemic is an exception to these, with high unemployment
but a prosperous stock market. It will appear different than the other two recessions,
such that you can distinguish it from the rest of the data set based on its upward
trend in commodity prices.

## Analysis - Robi

We obtained monthly time series data for nine commodities (crude oil, sugar,
soybeans, wheat, beef, rubber, cocoa beans, gold, ice cream)^[https://www.indexmundi.com/commodities/], the US unemployment
rate^[https://beta.bls.gov/dataViewer/view/timeseries/LNS14000000], the US dollar to Euro exchange rate^[https://fred.stlouisfed.org/series/DEXUSEU],
and an indicator of past US economic recession dates^[https://fred.stlouisfed.org/series/JHDUSRGDPBR].
The data were cleaned, then merged into a dataframe with one observation of each
piece of information for every month from February 2001 to February 2021, giving
twenty years of historical data going back from this course's spring semester. This
interval includes the 2020-21 coronavirus pandemic, the 2007-2009 financial crisis,
and the early-2000s dotcom stock crash. The three recessions were assigned a
categorical/factor variable in a new column of the dataframe.

To test the hypothesis that commodities had better performance (in the sense
of prices increasing over time) during during non-recession periods than during
recessions, a new dataframe was created by dividing each commodity's price in
each month by its price in the previous month to obtain a table of percentage
changes. Histograms were created for each good individually and for all goods
together, showing the distribution of changes in price for the whole period,
recessions only, and growth periods only. The histograms were extremely similar
across these different categories, somewhat contravening the hypothesis that
prices would go up during non-recession periods and down during recessions.

Next, logistic regression was used in an attempt to differentiate between
recession and non-recession periods. If price changes in goods are distributed
differently between these two types of periods, it should be possible to construct
a logistic function of a month's price changes whose output is the probability
that a month was during a recession, and which is highly correlated with the
historical recession indicator. This turned out not to be the case. Logistic models
of some of the variables individually, all of the variables together, and some
combinations of variables were all completely ineffective at predicting past
recessions. Not only did the models exhibit almost no change in their values
of recession probability over the range of observed price increases, the predictions
created by deploying these models on the training dataset performed far worse
(around 55%) than the no-information accuracy rate, a strategy of simply guessing
that every month is not a recession (which is true around 85% of the time).

```{r}

```



















---------------



## Distribution Analysis - Sharon

```{r}

```
## Comparison Across Goods

# Prices
During the two decades...the first half and second half...
The effects during a recession...achieved more granularity by using daily data.

# Price Changes
Using daily data

# Difference in Price Changes
Using daily data









